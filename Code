#include <iostream>
#include <vector>
#include <string>
#include <cctype>

using namespace std;

float gradeToPoint(string grade) {
    // Convert grade string to uppercase for case-insensitivity
    for (char &c : grade) {
        c = toupper(c);
    }
    if (grade == "A+") return 10.0;
    else if (grade == "A") return 9.0;
    else if (grade == "B+") return 8.0;
    else if (grade == "B") return 7.0;
    else if (grade == "C+") return 6.0;
    else if (grade == "C") return 5.0;
    else if (grade == "D+") return 4.0;
    else if (grade == "D") return 3.0;
    else if (grade == "E+") return 2.0;
    else if (grade == "E") return 1.0;
    else if (grade == "F") return 0.0;
    else if (grade == "I") return 0.0;
    else {
        cout << "Invalid grade entered. Assuming 0.0" << endl;
        return 0.0;
    }
}

class calculateGPA
{
public:
    calculateGPA()
    {
        int totalSub;
        cout << "How many total subjects are there ?" << endl;
        cin >> totalSub;

        vector<int> credit(totalSub);
        vector<string> grade(totalSub);

        for (int i = 0; i < totalSub; i++)
        {
            cout << "Enter credits of subject " << (i + 1) << endl;
            cin >> credit[i];
            cout << "Enter Grade you got in subject " << (i + 1) << " (e.g., A+, A, B, etc.)" << endl;
            cin >> grade[i];
        }

        float productofCP = 0.0;
        for (int j = 0; j < totalSub; j++)
        {
            float point = gradeToPoint(grade[j]);
            productofCP += credit[j] * point;
        }
        float totalCredits = 0.0;
        for (int k = 0; k < totalSub; k++)
        {
            totalCredits += credit[k];
        }

        if (totalCredits == 0) {
            cout << "Total credits cannot be zero." << endl;
        } else {
            float finalGpa = productofCP / totalCredits;
            cout << "Your GPA is : " << finalGpa << endl;
        }
    }
};

class calculateCGPA
{
public:
    calculateCGPA()
    {
        int totalSem;
        cout << "Enter total number of semesters : ";
        cin >> totalSem;

        vector<float> gpa(totalSem);
        for (int i = 0; i < totalSem; i++)
        {
            cout << "Enter your GPA of semester " << (i + 1) << " : ";
            cin >> gpa[i];
        }

        float totalCGPA = 0.0;
        for (int j = 0; j < totalSem; j++)
        {
            totalCGPA += gpa[j];
        }

        if (totalSem == 0) {
            cout << "Total semesters cannot be zero." << endl;
        } else {
            cout << "Your CGPA is : " << totalCGPA / totalSem << endl;
        }
    }
};

int main()
{
    cout << "What do you want to Calculate (1 for GPA, 2 for CGPA): ";
    int response;
    cin >> response;
    if (response == 1)
    {
        calculateGPA gpa;
    }
    else if (response == 2)
    {
        calculateCGPA cgpa;
    }
    else
    {
        cout << "Invalid choice." << endl;
    }
    return 0;
}
